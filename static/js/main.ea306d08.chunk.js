(this.webpackJsonpadmarketplace=this.webpackJsonpadmarketplace||[]).push([[0],{25:function(t,e,n){},26:function(t,e,n){},27:function(t,e,n){},34:function(t,e,n){"use strict";n.r(e);var s=n(1),c=n.n(s),o=n(19),a=n.n(o),i=(n(25),n(7)),l=n(2),h=n(9),r=n(10),d=n(12),m=n(11),j=(n(26),n(27),n(0)),p=function(t){return Object(j.jsxs)("div",{className:"comment","data-testid":"comment",children:[Object(j.jsxs)("div",{className:"comment-header",children:[Object(j.jsx)("h4",{className:"comment-title",children:t.name}),Object(j.jsx)("span",{children:t.email})]}),Object(j.jsx)("p",{children:t.body})]})},u=function(t){Object(d.a)(n,t);var e=Object(m.a)(n);function n(t){var s;return Object(h.a)(this,n),(s=e.call(this,t)).props=t,s}return Object(r.a)(n,[{key:"render",value:function(){var t=[];return this.props.comments&&this.props.comments.length>0&&this.props.comments.forEach((function(e){t.push(Object(j.jsx)(p,{body:e.body,name:e.name,email:e.email},e.id))})),Object(j.jsx)("div",{className:"post","data-testid":"post",children:Object(j.jsxs)(i.b,{to:"/posts?postId=".concat(this.props.id),children:[Object(j.jsx)("div",{className:"post-header",children:Object(j.jsx)("h3",{children:this.props.title})}),Object(j.jsx)("p",{children:this.props.body}),Object(j.jsx)("div",{className:"comments-container",children:t})]})})}}]),n}(c.a.Component),b=function(t){Object(d.a)(n,t);var e=Object(m.a)(n);function n(t){var s;return Object(h.a)(this,n),(s=e.call(this,t)).state={posts:[]},s}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.PostList()}},{key:"PostList",value:function(){var t=this;fetch("https://jsonplaceholder.typicode.com/posts").then((function(t){if(t.ok)return t.json()})).then((function(e){t.setState({posts:e})})).catch((function(t){alert("Something went wrong. Please refresh the page."),console.log(t)}))}},{key:"HandleClick",value:function(t){this.props.history.push("/posts?postId="+t)}},{key:"render",value:function(){var t=this,e=[],n=[];return this.state.posts.map((function(t,s){e.push(Object(j.jsx)(u,{id:t.id,body:t.body,title:t.title},s)),n.push(Object(j.jsx)("option",{value:t.id,children:t.id},s))})),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"select-container",children:Object(j.jsxs)("select",{value:"",onChange:function(e){t.HandleClick(e.target.value)},children:[Object(j.jsx)("option",{value:"",children:"Select a post"}),n]})})}),Object(j.jsx)("div",{className:"post-container",children:e})]})}}]),n}(c.a.Component),O=function(t){Object(d.a)(n,t);var e=Object(m.a)(n);function n(t){var s;return Object(h.a)(this,n),(s=e.call(this,t)).state={post:{},comments:[],newComment:{body:"",name:"",email:"",id:"",postId:""},id:""},s}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var t=new URLSearchParams(window.location.search).get("postId");this.setState({id:t}),this.GetPostData(t),this.GetCommentsData(t)}},{key:"GetPostData",value:function(t){var e=this,n=new URL("https://jsonplaceholder.typicode.com/posts"),s={id:t};Object.keys(s).forEach((function(t){return n.searchParams.append(t,s[t])})),fetch(n).then((function(t){if(t.ok)return t.json()})).then((function(t){e.setState({post:t[0]})})).catch((function(t){e.setState({post:null}),console.log(t)}))}},{key:"GetCommentsData",value:function(t){var e=this,n=new URL("https://jsonplaceholder.typicode.com/comments"),s={postId:t};Object.keys(s).forEach((function(t){return n.searchParams.append(t,s[t])})),fetch(n).then((function(t){if(t.ok)return t.json()})).then((function(t){e.setState({comments:t})})).catch((function(t){e.setState({post:null}),console.log(t)}))}},{key:"AddComment",value:function(t){var e=this;if(t.preventDefault(),this.state.newComment.body.length>0&&this.state.newComment.name.length>0&&this.state.newComment.email.length>0)return fetch("https://jsonplaceholder.typicode.com/comments",{method:"POST"}).then((function(t){if(t.ok)return t.json()})).then((function(t){var n=e.state.comments;n.push({id:t.id,body:e.state.newComment.body,postId:e.state.id,name:e.state.newComment.name,email:e.state.newComment.email}),e.setState({comments:n}),e.setState({newComment:{body:"",name:"",email:"",id:"",postId:""}})})).catch((function(t){alert("Something went wrong. Please try again."),console.log(t)}))}},{key:"LogInput",value:function(t){var e=this.state.newComment;e[t.target.name]=t.target.value,this.setState({newComment:e})}},{key:"render",value:function(){return null!=this.state.post?Object(j.jsxs)("div",{className:"post-container",children:[Object(j.jsx)("div",{className:"back-button",children:Object(j.jsx)(i.b,{to:"/",children:Object(j.jsx)("p",{children:"Back"})})}),Object(j.jsx)(u,{id:this.state.post.id,body:this.state.post.body,title:this.state.post.title,comments:this.state.comments}),Object(j.jsx)("div",{className:"input-container",children:Object(j.jsxs)("form",{children:[Object(j.jsxs)("div",{className:"pull-left",children:[Object(j.jsxs)("div",{className:"input-row",children:[Object(j.jsx)("input",{"data-testid":"name-input",type:"text",name:"name",value:this.state.newComment.name,placeholder:"John Smith",onChange:this.LogInput.bind(this)}),Object(j.jsx)("input",{"data-testid":"email-input",type:"email",name:"email",value:this.state.newComment.email,placeholder:"email@email.com",onChange:this.LogInput.bind(this)})]}),Object(j.jsx)("div",{className:"input-row",children:Object(j.jsx)("input",{"data-testid":"comment-input",type:"text",name:"body",value:this.state.newComment.body,placeholder:"say something",onChange:this.LogInput.bind(this)})})]}),Object(j.jsx)("button",{"data-testid":"submitbtn",classtype:"submit",onClick:this.AddComment.bind(this),children:"+"})]})})]}):Object(j.jsxs)("div",{className:"container",children:[Object(j.jsxs)("h2",{children:["Invalid Post ID: ",this.state.id]}),Object(j.jsx)(i.b,{to:"/",children:Object(j.jsx)("h3",{children:"Go Home"})})]})}}]),n}(c.a.Component),f=function(){return Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("h1",{children:"404: Page Not Found"}),Object(j.jsx)(i.b,{to:"/",children:Object(j.jsx)("h3",{children:"Go Home"})})]})},v=function(){return Object(j.jsx)(i.a,{children:Object(j.jsxs)(l.d,{children:[Object(j.jsx)(l.b,{path:"/posts-challenge/",exact:!0,component:b}),Object(j.jsx)(l.b,{path:"/posts-challenge/posts",component:O}),Object(j.jsx)(l.b,{path:"/posts-challenge/404",component:f}),Object(j.jsx)(l.a,{from:"*",to:"/404"})]})})};a.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(v,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.ea306d08.chunk.js.map